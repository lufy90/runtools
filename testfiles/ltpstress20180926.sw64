# name: ltpstress20180926.sw64
# date: Thu Jun 18 10:42:20 CST 2020
#
# This file is generated by ./runtool
# You should edit this file before run the test.

TESTNAME=ltpstress20180926.sw64
# packages need to be install before installation
PACKAGES="numactl numactl-devel gcc expect mkisofs libaio libaio-devel rsh rsh-server sysstat net-tools perl-Data-Dumper"
# base url of tarball
BASEURL=http://autoserver:8000/tools
## test tool 
# test official site
SITE=
TOOLNAME=ltp
VERSION=20180926
TARBALL=$VERSION.tar.gz
MD5SUFFIX=md5
URL=$BASEURL/$TARBALL
# folder after untar
FOLDER=${TOOLNAME}-${VERSION}
# patch file, diff -ruN old new> ${TOOLNAME}.patch
PATCH=patches/${TESTNAME}.patch
# install destination
TARGET=/opt/${TOOLNAME}${VERSION}

# sleep time in seconds before run test.
RUNSLEEP=10
# test loop times.
RUNTIME=1
INSTALLCMD="cd $FOLDER;./build.sh -p $TARGET"
RESULT=
# RUNCMD would be expanded with increasing suffix.
RUNCMD1="cd $TARGET; ./testscripts/ltpstress.sh -d sar.out.0 -l stress.log.0 -p -q -t 72 -S"

# stress for running command cycally until specific time.
STRESSCMD=

## Other settings before test, plese split with ";"
SCRIPT="
ln /usr/sbin/exportfs /bin/;
ln /usr/sbin/rpc.nfsd /bin/;
echo -ne 'rsh\nrlogin\nrexec' >> /etc/securetty;
echo localhost >> /root/.rhosts;
systemctl start rlogin.socket;
systemctl start rsh.socket;
systemctl start nfs;
systemctl start sysstat;
"
